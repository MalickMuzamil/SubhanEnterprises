<section class="products-tabs text-white py-5">
  <div class="container">
    <h2 class="fw-bold text-uppercase text-center mb-4">
      Discover Our <span class="text-danger">Power Machines</span>
    </h2>

    <!-- Tabs -->
    <app-product-tabs (tabChange)="onTabChange($event)"></app-product-tabs>

    <div class="row g-4 mt-4">
      <!-- Filters -->
      <div class="col-lg-3 col-md-4">
        <app-product-filters (filtersChanged)="onFiltersChange($event)"></app-product-filters>
      </div>

      <!-- Scrollable Products Grid -->
      <div class="col-lg-9 col-md-8 products-scroll-area">
        <div class="row g-4 justify-content-center">
          <div class="col-md-4 col-sm-6" *ngFor="let product of filteredProducts">
            <app-main-card
              [image]="product.image"
              [title]="product.title"
              [description]="product.description"
              [price]="product.price"
              [buttonText]="'View Details'"
              (buttonClick)="openProductModal(product)">
            </app-main-card>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Product details modal -->
<app-modal [isVisible]="modalVisible" [title]="selectedProduct?.title" (closed)="closeModal()">
  <div *ngIf="selectedProduct" class="p-3">
    <div class="row g-3">
      <div class="col-4">
        <img [src]="selectedProduct.image" class="img-fluid" alt="{{ selectedProduct.title }}" />
      </div>
      <div class="col-8">
        <h4 class="mb-2">{{ selectedProduct.title }}</h4>
        <p class="mb-1"><strong>Price:</strong> {{ selectedProduct.price | currency }}</p>
        <p class="mb-2"><strong>Category:</strong> {{ selectedProduct.category }}</p>
        <p>{{ selectedProduct.description }}</p>
      </div>
    </div>
  </div>
</app-modal>
